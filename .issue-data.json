{
  "url": "https://github.com/fumiya-kume/FeLangKit/issues/147",
  "owner": "fumiya-kume",
  "repo": "FeLangKit",
  "issue_number": 147,
  "branch_name": "issue-147-20250530-162123",
  "title": "Migrate ExpressionVisitorTests from XCTest to Swift Testing",
  "body": "# Migrate ExpressionVisitorTests from XCTest to Swift Testing\n\n## Overview\nMigrate `Tests/FeLangCoreTests/Visitor/ExpressionVisitorTests.swift` from XCTest to Swift Testing framework for consistency with the modernized test suite.\n\n## Current Status\n- **Framework**: XCTest (legacy)\n- **Test Count**: 11 test methods\n- **Test Class**: `ExpressionVisitorTests: XCTestCase`\n\n## Test Coverage Areas\nThe file contains tests for the Expression Visitor pattern:\n- **Basic Expression Visiting**: Identifier, literal, and simple expression handling\n- **Binary Expression Visiting**: Operator and operand processing\n- **Unary Expression Visiting**: Unary operator handling\n- **Function Call Visiting**: Function name and argument processing\n- **Field Access Visiting**: Object property access patterns\n- **Array Access Visiting**: Array indexing operations\n- **Visitor Pattern Integrity**: Proper delegation and traversal\n\n## Migration Requirements\n\n### 1. Framework Conversion\n- [ ] Replace `import XCTest` with `import Testing`\n- [ ] Convert `final class ExpressionVisitorTests: XCTestCase` to `@Suite(\"ExpressionVisitor Tests\") struct ExpressionVisitorTests`\n- [ ] No setUp/tearDown methods to handle (stateless tests)\n\n### 2. Test Method Migration\n- [ ] Convert all 11 `func test*()` methods to `@Test func *()` format\n- [ ] Replace XCTest assertions with Swift Testing equivalents:\n  - `XCTAssertEqual()` → `#expect()`\n  - `XCTAssertTrue()` → `#expect()`\n  - `XCTAssertNil()` → `#expect()`\n\n### 3. Visitor Pattern Verification\n- [ ] Ensure visitor pattern implementation remains intact\n- [ ] Verify expression traversal order is maintained\n- [ ] Confirm visitor state management works correctly\n\n## Validation Steps\n- [ ] Run `swift test --filter ExpressionVisitorTests` to ensure all tests pass\n- [ ] Verify visitor pattern behavior remains consistent\n- [ ] Run `swiftlint lint --fix && swiftlint lint` to ensure code quality\n- [ ] Confirm expression visiting logic is preserved\n\n## Example Migration Pattern\n**Before (XCTest):**\n```swift\nfunc testVisitIdentifier() {\n    let visitor = MockExpressionVisitor()\n    let expr = Expression.identifier(\"x\")\n    \n    expr.accept(visitor)\n    \n    XCTAssertEqual(visitor.visitedIdentifiers.count, 1)\n    XCTAssertEqual(visitor.visitedIdentifiers.first, \"x\")\n}\n```\n\n**After (Swift Testing):**\n```swift\n@Test func visitIdentifier() {\n    let visitor = MockExpressionVisitor()\n    let expr = Expression.identifier(\"x\")\n    \n    expr.accept(visitor)\n    \n    #expect(visitor.visitedIdentifiers.count == 1)\n    #expect(visitor.visitedIdentifiers.first == \"x\")\n}\n```\n\n## Success Criteria\n- [ ] All 11 test methods successfully migrated\n- [ ] Zero test failures after migration\n- [ ] Visitor pattern functionality preserved\n- [ ] Code passes SwiftLint validation\n\n---\n**Priority**: Low-Medium  \n**Effort**: 1-2 hours",
  "state": "open",
  "labels": [
    "enhancement",
    "good first issue",
    "testing",
    "swift-testing"
  ],
  "assignees": [],
  "milestone": null,
  "created_at": "2025-05-30T05:24:49Z",
  "updated_at": "2025-05-30T05:24:49Z",
  "author": "fumiya-kume",
  "pr_title": "Resolve #147: Migrate ExpressionVisitorTests from XCTest to Swift Testing"
}
