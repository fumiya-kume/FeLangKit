{
  "number": 148,
  "title": "Migrate StatementVisitorTests from XCTest to Swift Testing",
  "body": "# Migrate StatementVisitorTests from XCTest to Swift Testing\n\n## Overview\nMigrate `Tests/FeLangCoreTests/Visitor/StatementVisitorTests.swift` from XCTest to Swift Testing framework for consistency with the modernized test suite.\n\n## Current Status\n- **Framework**: XCTest (legacy)\n- **Test Count**: 10 test methods\n- **Test Class**: `StatementVisitorTests: XCTestCase`\n\n## Test Coverage Areas\nThe file contains tests for the Statement Visitor pattern:\n- **Variable Declaration Visiting**: Variable name and type processing\n- **Assignment Statement Visiting**: Target and value expression handling\n- **Control Flow Visiting**: If/else, while, for statement processing\n- **Function Declaration Visiting**: Function signature and body handling\n- **Block Statement Visiting**: Nested statement processing\n- **Return Statement Visiting**: Return value expression handling\n- **Visitor Pattern Integrity**: Proper statement traversal and delegation\n\n## Migration Requirements\n\n### 1. Framework Conversion\n- [ ] Replace `import XCTest` with `import Testing`\n- [ ] Convert `final class StatementVisitorTests: XCTestCase` to `@Suite(\"StatementVisitor Tests\") struct StatementVisitorTests`\n- [ ] No setUp/tearDown methods to handle (stateless tests)\n\n### 2. Test Method Migration\n- [ ] Convert all 10 `func test*()` methods to `@Test func *()` format\n- [ ] Replace XCTest assertions with Swift Testing equivalents:\n  - `XCTAssertEqual()` → `#expect()`\n  - `XCTAssertTrue()` → `#expect()`\n  - `XCTAssertNotNil()` → `#expect()`\n\n### 3. Visitor Pattern Verification\n- [ ] Ensure statement visitor pattern implementation remains intact\n- [ ] Verify statement traversal order is maintained\n- [ ] Confirm nested statement processing works correctly\n\n## Validation Steps\n- [ ] Run `swift test --filter StatementVisitorTests` to ensure all tests pass\n- [ ] Verify statement visitor pattern behavior remains consistent\n- [ ] Run `swiftlint lint --fix \u0026\u0026 swiftlint lint` to ensure code quality\n- [ ] Confirm statement visiting logic is preserved\n\n## Example Migration Pattern\n**Before (XCTest):**\n```swift\nfunc testVisitVariableDeclaration() {\n    let visitor = MockStatementVisitor()\n    let stmt = Statement.variableDeclaration(\"x\", type: .integer, initializer: nil)\n    \n    stmt.accept(visitor)\n    \n    XCTAssertEqual(visitor.visitedVariables.count, 1)\n    XCTAssertEqual(visitor.visitedVariables.first, \"x\")\n}\n```\n\n**After (Swift Testing):**\n```swift\n@Test func visitVariableDeclaration() {\n    let visitor = MockStatementVisitor()\n    let stmt = Statement.variableDeclaration(\"x\", type: .integer, initializer: nil)\n    \n    stmt.accept(visitor)\n    \n    #expect(visitor.visitedVariables.count == 1)\n    #expect(visitor.visitedVariables.first == \"x\")\n}\n```\n\n## Success Criteria\n- [ ] All 10 test methods successfully migrated\n- [ ] Zero test failures after migration\n- [ ] Statement visitor pattern functionality preserved\n- [ ] Code passes SwiftLint validation\n\n---\n**Priority**: Low-Medium  \n**Effort**: 1-2 hours",
  "state": "open",
  "url": "https://api.github.com/repos/fumiya-kume/FeLangKit/issues/148",
  "html_url": "https://github.com/fumiya-kume/FeLangKit/issues/148",
  "labels": [
    {
      "name": "enhancement",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "color": "7057ff"
    },
    {
      "name": "testing",
      "color": "ededed"
    },
    {
      "name": "swift-testing",
      "color": "ededed"
    }
  ],
  "assignees": [],
  "created_at": "2025-05-30T05:25:09Z",
  "updated_at": "2025-05-30T05:25:09Z",
  "repository": {
    "name": "",
    "full_name": "",
    "owner": {
      "login": "",
      "url": ""
    }
  },
  "metadata": null
}