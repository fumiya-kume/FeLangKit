# GitHub Issue Context

I need to implement the following GitHub issue:

**Issue #147: Migrate ExpressionVisitorTests from XCTest to Swift Testing**

# Migrate ExpressionVisitorTests from XCTest to Swift Testing

## Overview
Migrate `Tests/FeLangCoreTests/Visitor/ExpressionVisitorTests.swift` from XCTest to Swift Testing framework for consistency with the modernized test suite.

## Current Status
- **Framework**: XCTest (legacy)
- **Test Count**: 11 test methods
- **Test Class**: `ExpressionVisitorTests: XCTestCase`

## Test Coverage Areas
The file contains tests for the Expression Visitor pattern:
- **Basic Expression Visiting**: Identifier, literal, and simple expression handling
- **Binary Expression Visiting**: Operator and operand processing
- **Unary Expression Visiting**: Unary operator handling
- **Function Call Visiting**: Function name and argument processing
- **Field Access Visiting**: Object property access patterns
- **Array Access Visiting**: Array indexing operations
- **Visitor Pattern Integrity**: Proper delegation and traversal

## Migration Requirements

### 1. Framework Conversion
- [ ] Replace `import XCTest` with `import Testing`
- [ ] Convert `final class ExpressionVisitorTests: XCTestCase` to `@Suite("ExpressionVisitor Tests") struct ExpressionVisitorTests`
- [ ] No setUp/tearDown methods to handle (stateless tests)

### 2. Test Method Migration
- [ ] Convert all 11 `func test*()` methods to `@Test func *()` format
- [ ] Replace XCTest assertions with Swift Testing equivalents:
  - `XCTAssertEqual()` → `#expect()`
  - `XCTAssertTrue()` → `#expect()`
  - `XCTAssertNil()` → `#expect()`

### 3. Visitor Pattern Verification
- [ ] Ensure visitor pattern implementation remains intact
- [ ] Verify expression traversal order is maintained
- [ ] Confirm visitor state management works correctly

## Validation Steps
- [ ] Run `swift test --filter ExpressionVisitorTests` to ensure all tests pass
- [ ] Verify visitor pattern behavior remains consistent
- [ ] Run `swiftlint lint --fix && swiftlint lint` to ensure code quality
- [ ] Confirm expression visiting logic is preserved

## Example Migration Pattern
**Before (XCTest):**
```swift
func testVisitIdentifier() {
    let visitor = MockExpressionVisitor()
    let expr = Expression.identifier("x")
    
    expr.accept(visitor)
    
    XCTAssertEqual(visitor.visitedIdentifiers.count, 1)
    XCTAssertEqual(visitor.visitedIdentifiers.first, "x")
}
```

**After (Swift Testing):**
```swift
@Test func visitIdentifier() {
    let visitor = MockExpressionVisitor()
    let expr = Expression.identifier("x")
    
    expr.accept(visitor)
    
    #expect(visitor.visitedIdentifiers.count == 1)
    #expect(visitor.visitedIdentifiers.first == "x")
}
```

## Success Criteria
- [ ] All 11 test methods successfully migrated
- [ ] Zero test failures after migration
- [ ] Visitor pattern functionality preserved
- [ ] Code passes SwiftLint validation

---
**Priority**: Low-Medium  
**Effort**: 1-2 hours

**Labels:** enhancement, good first issue, testing, swift-testing
**Branch:** issue-147-20250530-162123

Please implement this according to the project's coding standards and ensure:
1. All existing tests continue to pass
2. SwiftLint validation passes
3. Code builds successfully
4. Add appropriate tests for new functionality
5. Follow the established architecture patterns

After implementation, please:
1. Create appropriate commits with conventional commit messages
2. Push the branch to origin
3. The PR will be created automatically

Let me know when you're ready to start!

---

*This context file was automatically generated by claude.sh and can be referenced during your Claude Code session.*
