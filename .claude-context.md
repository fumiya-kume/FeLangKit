# GitHub Issue Context

I need to implement the following GitHub issue:

**Issue #67: Implement ExpressionVisitor and StatementVisitor core infrastructure**

## Overview

Implement the foundational visitor pattern infrastructure for FeLangKit's AST traversal, starting with the core `ExpressionVisitor<Result>` and `StatementVisitor<Result>` types.

This is **Phase 1** of the visitor pattern implementation outlined in the [Design Document #65](https://github.com/fumiya-kume/FeLangKit/issues/65).

## Scope

### **Core Infrastructure to Implement:**

1. **ExpressionVisitor<Result>** - Closure-based visitor for Expression AST
2. **StatementVisitor<Result>** - Closure-based visitor for Statement AST  
3. **Visitable Protocol** - Unified interface for visitor acceptance
4. **ASTWalker** - Automatic recursive traversal utilities

## Technical Requirements

### **API Design**

```swift
// Core visitor structure
public struct ExpressionVisitor<Result> {
    public var visitLiteral: (Literal) -> Result
    public var visitIdentifier: (String) -> Result
    public var visitBinary: (BinaryOperator, Expression, Expression) -> Result
    public var visitUnary: (UnaryOperator, Expression) -> Result
    public var visitArrayAccess: (Expression, Expression) -> Result
    public var visitFieldAccess: (Expression, String) -> Result
    public var visitFunctionCall: (String, [Expression]) -> Result
    
    public func visit(_ expression: Expression) -> Result
}

// Similar structure for StatementVisitor<Result>
public struct StatementVisitor<Result> {
    public var visitIfStatement: (IfStatement) -> Result
    public var visitWhileStatement: (WhileStatement) -> Result
    // ... all Statement cases
    
    public func visit(_ statement: Statement) -> Result
}

// Unified traversal interface
public protocol Visitable {
    func accept<V: Visitor>(_ visitor: V) -> V.Result
}
```

### **Key Features**

- ✅ **Zero Breaking Changes**: No modifications to existing Expression/Statement enums
- ✅ **Type Safety**: Generic Result type with compile-time checking
- ✅ **Thread Safety**: Full `@Sendable` compliance
- ✅ **Performance**: Efficient pattern matching dispatch
- ✅ **Extensibility**: Easy to add new visitor types

## Implementation Details

### **File Structure**
```
Sources/FeLangCore/Visitor/
├── ExpressionVisitor.swift
├── StatementVisitor.swift  
├── Visitable.swift
├── ASTWalker.swift
└── docs/
    └── README.md
```

### **Pattern Matching Implementation**

```swift
public func visit(_ expression: Expression) -> Result {
    switch expression {
    case .literal(let literal):
        return visitLiteral(literal)
    case .identifier(let name):
        return visitIdentifier(name)
    case .binary(let op, let left, let right):
        return visitBinary(op, left, right)
    case .unary(let op, let expr):
        return visitUnary(op, expr)
    case .arrayAccess(let array, let index):
        return visitArrayAccess(array, index)
    case .fieldAccess(let object, let field):
        return visitFieldAccess(object, field)
    case .functionCall(let name, let args):
        return visitFunctionCall(name, args)
    }
}
```

## Testing Requirements

### **Unit Tests**
- All visitor methods properly dispatch to correct closures
- Generic Result types work correctly (String, Void, custom types)
- Thread safety validation with concurrent access
- Performance benchmarks vs. direct switch statements

### **Test Cases**
```swift
func testExpressionVisitorBasicFunctionality() {
    let visitor = ExpressionVisitor<String>(
        visitLiteral: { "Literal(\($0))" },
        visitIdentifier: { "Id(\($0))" },
        visitBinary: { op, left, right in "Binary(\(op), \(left), \(right))" },
        // ... other closures
    )
    
    let expr = Expression.binary(.add, .literal(.integer(1)), .literal(.integer(2)))
    let result = visitor.visit(expr)
    
    XCTAssertEqual(result, "Binary(+, Literal(integer(1)), Literal(integer(2)))")
}
```

## Performance Requirements

- **Target**: Within 5% of direct switch statement performance
- **Memory**: No additional heap allocations during traversal
- **Concurrency**: Support concurrent visitors on different threads

## Documentation

- Complete API documentation with examples
- Usage patterns and best practices
- Migration guide from switch statements
- Performance characteristics and benchmarks

## Definition of Done

- [ ] Core ExpressionVisitor<Result> implemented with all closure properties
- [ ] Core StatementVisitor<Result> implemented with all Statement cases  
- [ ] Visitable protocol with default implementations
- [ ] ASTWalker for recursive traversal
- [ ] Comprehensive unit test suite (>95% coverage)
- [ ] Performance benchmarks showing <5% overhead
- [ ] Complete API documentation with examples
- [ ] Integration test with existing Expression/Statement usage

## Dependencies

- Must work with existing Expression enum (no modifications)
- Must work with existing Statement enum (no modifications)  
- Must maintain @Sendable compliance
- Must integrate with SymbolTable and error reporting systems

---

**Priority**: High  
**Complexity**: Medium  
**Estimated Effort**: 3-4 days

**Related Issues**: #64, #65

**Labels:** 
**Branch:** issue-67-20250529-221750

Please implement this according to the project's coding standards and ensure:
1. All existing tests continue to pass
2. SwiftLint validation passes
3. Code builds successfully
4. Add appropriate tests for new functionality
5. Follow the established architecture patterns

After implementation, please:
1. Create appropriate commits with conventional commit messages
2. Push the branch to origin
3. The PR will be created automatically

Let me know when you're ready to start!

---

*This context file was automatically generated by claude.sh and can be referenced during your Claude Code session.*

---

# Validation Error Context

The implementation has validation errors that need to be fixed:

\n## Test Errors:\n```\n[0/1] Planning build
Building for debugging...
[0/2] Write swift-version--58304C5D6DBC2206.txt
Build complete! (0.49s)
Test Suite 'All tests' started at 2025-05-29 22:28:20.897.
Test Suite 'FeLangKitPackageTests.xctest' started at 2025-05-29 22:28:20.898.
Test Suite 'ASTWalkerTests' started at 2025-05-29 22:28:20.898.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromArrayAccess]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromArrayAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromAssignment]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromAssignment]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromBinaryExpression]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromBinaryExpression]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromBlock]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromBlock]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromComplexExpression]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromComplexExpression]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromFieldAccess]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromFieldAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromForEachStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromForEachStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromForRangeStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromForRangeStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromFunctionDeclaration]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromFunctionDeclaration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromIfStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromIfStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromLiteral]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromLiteral]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromSimpleExpression]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromSimpleExpression]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromVariableDeclaration]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromVariableDeclaration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromWhileStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCollectIdentifiersFromWhileStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInArrayAccess]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInArrayAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInAssignmentStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInAssignmentStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInBinaryExpression]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInBinaryExpression]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInBlock]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInBlock]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInComplexExpression]' started.
/Users/kuu/ghq/github.com/fumiya-kume/FeLangKit/issue-67-20250529-221750/Tests/FeLangCoreTests/Visitor/ASTWalkerTests.swift:69: error: -[FeLangCoreTests.ASTWalkerTests testCountNodesInComplexExpression] : XCTAssertEqual failed: ("7") is not equal to ("6")
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInComplexExpression]' failed (0.023 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInForStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInForStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInIfStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInIfStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInSimpleExpression]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInSimpleExpression]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInSimpleStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInSimpleStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInWhileStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testCountNodesInWhileStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testEmptyBlock]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testEmptyBlock]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testExpressionWalkingPerformance]' started.
/Users/kuu/ghq/github.com/fumiya-kume/FeLangKit/issue-67-20250529-221750/Tests/FeLangCoreTests/Visitor/ASTWalkerTests.swift:376: Test Case '-[FeLangCoreTests.ASTWalkerTests testExpressionWalkingPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 53.772%, values: [0.000081, 0.000029, 0.000026, 0.000025, 0.000025, 0.000025, 0.000025, 0.000025, 0.000025, 0.000025], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
Test Case '-[FeLangCoreTests.ASTWalkerTests testExpressionWalkingPerformance]' passed (0.255 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testFunctionCallWithoutArguments]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testFunctionCallWithoutArguments]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testReturnStatementWithoutExpression]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testReturnStatementWithoutExpression]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testStatementWalkingPerformance]' started.
/Users/kuu/ghq/github.com/fumiya-kume/FeLangKit/issue-67-20250529-221750/Tests/FeLangCoreTests/Visitor/ASTWalkerTests.swift:389: Test Case '-[FeLangCoreTests.ASTWalkerTests testStatementWalkingPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 64.328%, values: [0.000107, 0.000047, 0.000039, 0.000040, 0.000037, 0.000036, 0.000038, 0.000163, 0.000107, 0.000040], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
Test Case '-[FeLangCoreTests.ASTWalkerTests testStatementWalkingPerformance]' passed (0.257 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionIdentity]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionIdentity]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionNested]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionNested]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionReplacements]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionReplacements]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInAssignment]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInAssignment]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInBlock]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInBlock]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInIfStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInIfStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInReturnStatement]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInReturnStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInVariableDeclaration]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testTransformExpressionsInVariableDeclaration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ASTWalkerTests testVariableDeclarationWithoutInitialValue]' started.
Test Case '-[FeLangCoreTests.ASTWalkerTests testVariableDeclarationWithoutInitialValue]' passed (0.000 seconds).
Test Suite 'ASTWalkerTests' failed at 2025-05-29 22:28:21.438.
	 Executed 38 tests, with 1 failure (0 unexpected) in 0.539 (0.540) seconds
Test Suite 'ExpressionVisitorTests' started at 2025-05-29 22:28:21.438.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testManualRecursiveVisitor]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testManualRecursiveVisitor]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testTypeCountingVisitor]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testTypeCountingVisitor]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitableProtocolConformance]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitableProtocolConformance]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitArrayAccess]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitArrayAccess]' passed (0.001 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitBinary]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitBinary]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitFieldAccess]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitFieldAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitFunctionCall]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitFunctionCall]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitIdentifier]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitIdentifier]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitLiteral]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitLiteral]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitorPerformance]' started.
/Users/kuu/ghq/github.com/fumiya-kume/FeLangKit/issue-67-20250529-221750/Tests/FeLangCoreTests/Visitor/ExpressionVisitorTests.swift:315: Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitorPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 73.864%, values: [0.000040, 0.000011, 0.000010, 0.000009, 0.000009, 0.000009, 0.000009, 0.000009, 0.000009, 0.000009], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitorPerformance]' passed (0.256 seconds).
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitUnary]' started.
Test Case '-[FeLangCoreTests.ExpressionVisitorTests testVisitUnary]' passed (0.000 seconds).
Test Suite 'ExpressionVisitorTests' passed at 2025-05-29 22:28:21.699.
	 Executed 11 tests, with 0 failures (0 unexpected) in 0.260 (0.261) seconds
Test Suite 'PrettyPrinterTests' started at 2025-05-29 22:28:21.699.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testArrayAccess]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testArrayAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testArrayElementAssignment]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testArrayElementAssignment]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBinaryExpressionNeedingParentheses]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBinaryExpressionNeedingParentheses]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBinaryExpressionWithPrecedence]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBinaryExpressionWithPrecedence]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBlockStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBlockStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBooleanLiterals]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBooleanLiterals]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBreakStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testBreakStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testChainedFieldAccess]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testChainedFieldAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testCharacterLiteral]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testCharacterLiteral]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testCharacterLiteralWithEscapes]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testCharacterLiteralWithEscapes]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testConstantDeclaration]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testConstantDeclaration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testCustomIndentation]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testCustomIndentation]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testDataTypes]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testDataTypes]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testExpressionStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testExpressionStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFieldAccess]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFieldAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testForEachStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testForEachStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testForRangeStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testForRangeStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testForRangeWithStepStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testForRangeWithStepStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionCallNoArgs]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionCallNoArgs]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionCallWithArgs]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionCallWithArgs]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionCallWithComplexArgs]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionCallWithComplexArgs]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionDeclaration]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionDeclaration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionDeclarationWithLocalVariables]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testFunctionDeclarationWithLocalVariables]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIdentifier]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIdentifier]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIfElifElseStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIfElifElseStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIfElseStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIfElseStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIfStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIfStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIntegerLiteral]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testIntegerLiteral]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testLogicalOperators]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testLogicalOperators]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testMultipleStatements]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testMultipleStatements]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testNestedArrayAccess]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testNestedArrayAccess]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testProcedureDeclaration]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testProcedureDeclaration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testRealLiteral]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testRealLiteral]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testReturnStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testReturnStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testReturnStatementWithoutValue]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testReturnStatementWithoutValue]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testSimpleBinaryExpression]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testSimpleBinaryExpression]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testStringLiteral]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testStringLiteral]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testStringLiteralWithEscapes]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testStringLiteralWithEscapes]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testTabIndentation]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testTabIndentation]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testUnaryExpressions]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testUnaryExpressions]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testUnicodeOperators]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testUnicodeOperators]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testVariableAssignment]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testVariableAssignment]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testVariableDeclaration]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testVariableDeclaration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testVariableDeclarationWithInitialValue]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testVariableDeclarationWithInitialValue]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.PrettyPrinterTests testWhileStatement]' started.
Test Case '-[FeLangCoreTests.PrettyPrinterTests testWhileStatement]' passed (0.000 seconds).
Test Suite 'PrettyPrinterTests' passed at 2025-05-29 22:28:21.710.
	 Executed 45 tests, with 0 failures (0 unexpected) in 0.009 (0.011) seconds
Test Suite 'RoundTripTests' started at 2025-05-29 22:28:21.710.
Test Case '-[FeLangCoreTests.RoundTripTests testCanonicalFormatting]' started.
Test Case '-[FeLangCoreTests.RoundTripTests testCanonicalFormatting]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.RoundTripTests testComplexExpressionRoundTrip]' started.
Test Case '-[FeLangCoreTests.RoundTripTests testComplexExpressionRoundTrip]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.RoundTripTests testEmptyStructuresRoundTrip]' started.
Test Case '-[FeLangCoreTests.RoundTripTests testEmptyStructuresRoundTrip]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.RoundTripTests testFunctionDeclarationRoundTrip]' started.
Test Case '-[FeLangCoreTests.RoundTripTests testFunctionDeclarationRoundTrip]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.RoundTripTests testNestedStructuresRoundTrip]' started.
Test Case '-[FeLangCoreTests.RoundTripTests testNestedStructuresRoundTrip]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.RoundTripTests testSimpleExpressionRoundTrip]' started.
Test Case '-[FeLangCoreTests.RoundTripTests testSimpleExpressionRoundTrip]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.RoundTripTests testStatementRoundTrip]' started.
Test Case '-[FeLangCoreTests.RoundTripTests testStatementRoundTrip]' passed (0.000 seconds).
Test Suite 'RoundTripTests' passed at 2025-05-29 22:28:21.710.
	 Executed 7 tests, with 0 failures (0 unexpected) in 0.001 (0.001) seconds
Test Suite 'SemanticErrorReporterTests' started at 2025-05-29 22:28:21.710.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectMultipleErrors]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectMultipleErrors]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectMultipleWarnings]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectMultipleWarnings]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectSingleError]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectSingleError]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectSingleWarning]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCollectSingleWarning]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testConcurrentErrorCollection]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testConcurrentErrorCollection]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testConcurrentWarningCollection]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testConcurrentWarningCollection]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCustomConfiguration]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testCustomConfiguration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testDefaultConfiguration]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testDefaultConfiguration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testEmptyErrorCollection]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testEmptyErrorCollection]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorCorrelationDisabled]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorCorrelationDisabled]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorCorrelationEnabled]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorCorrelationEnabled]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorDeduplicationDifferentPositions]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorDeduplicationDifferentPositions]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorDeduplicationDisabled]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorDeduplicationDisabled]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorDeduplicationEnabled]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorDeduplicationEnabled]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorLimit]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorLimit]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorLimitWithZeroMax]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testErrorLimitWithZeroMax]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testFastConfiguration]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testFastConfiguration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testFinalizationPreventsMoreCollections]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testFinalizationPreventsMoreCollections]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testMultipleFinalizationCalls]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testMultipleFinalizationCalls]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testReset]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testReset]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testResetAfterFinalization]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testResetAfterFinalization]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testStrictConfiguration]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testStrictConfiguration]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testTooManyErrorsDeduplication]' started.
Test Case '-[FeLangCoreTests.SemanticErrorReporterTests testTooManyErrorsDeduplication]' passed (0.000 seconds).
Test Suite 'SemanticErrorReporterTests' passed at 2025-05-29 22:28:21.714.
	 Executed 23 tests, with 0 failures (0 unexpected) in 0.003 (0.003) seconds
Test Suite 'StatementVisitorTests' started at 2025-05-29 22:28:21.714.
Test Case '-[FeLangCoreTests.StatementVisitorTests testManualRecursiveVisitor]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testManualRecursiveVisitor]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testStatementTypeCountingVisitor]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testStatementTypeCountingVisitor]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitableProtocolConformance]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitableProtocolConformance]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitAssignment]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitAssignment]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitDeclarations]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitDeclarations]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitForStatement]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitForStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitIfStatement]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitIfStatement]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitorPerformance]' started.
/Users/kuu/ghq/github.com/fumiya-kume/FeLangKit/issue-67-20250529-221750/Tests/FeLangCoreTests/Visitor/StatementVisitorTests.swift:398: Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitorPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 75.667%, values: [0.000158, 0.000042, 0.000037, 0.000036, 0.000035, 0.000035, 0.000035, 0.000035, 0.000035, 0.000035], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitorPerformance]' passed (0.257 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitOtherStatements]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitOtherStatements]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitWhileStatement]' started.
Test Case '-[FeLangCoreTests.StatementVisitorTests testVisitWhileStatement]' passed (0.000 seconds).
Test Suite 'StatementVisitorTests' passed at 2025-05-29 22:28:21.972.
	 Executed 10 tests, with 0 failures (0 unexpected) in 0.258 (0.258) seconds
Test Suite 'VisitableTests' started at 2025-05-29 22:28:21.972.
Test Case '-[FeLangCoreTests.VisitableTests testExpressionConvenienceMethod]' started.
Test Case '-[FeLangCoreTests.VisitableTests testExpressionConvenienceMethod]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.VisitableTests testExpressionVisitableConformance]' started.
Test Case '-[FeLangCoreTests.VisitableTests testExpressionVisitableConformance]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.VisitableTests testGenericVisitorInterface]' started.
Test Case '-[FeLangCoreTests.VisitableTests testGenericVisitorInterface]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.VisitableTests testSendableCompliance]' started.
Test Case '-[FeLangCoreTests.VisitableTests testSendableCompliance]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.VisitableTests testStatementConvenienceMethod]' started.
Test Case '-[FeLangCoreTests.VisitableTests testStatementConvenienceMethod]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.VisitableTests testStatementVisitableConformance]' started.
Test Case '-[FeLangCoreTests.VisitableTests testStatementVisitableConformance]' passed (0.000 seconds).
Test Case '-[FeLangCoreTests.VisitableTests testTypeSafetyBetweenVisitorTypes]' started.
Test Case '-[FeLangCoreTests.VisitableTests testTypeSafetyBetweenVisitorTypes]' passed (0.000 seconds).
Test Suite 'VisitableTests' passed at 2025-05-29 22:28:21.973.
	 Executed 7 tests, with 0 failures (0 unexpected) in 0.001 (0.002) seconds
Test Suite 'FeLangKitPackageTests.xctest' failed at 2025-05-29 22:28:21.973.
	 Executed 141 tests, with 1 failure (0 unexpected) in 1.071 (1.076) seconds
Test Suite 'All tests' failed at 2025-05-29 22:28:21.973.
	 Executed 141 tests, with 1 failure (0 unexpected) in 1.071 (1.077) seconds
􀟈  Test run started.
􀄵  Testing Library Version: 124.4
􀄵  Target Platform: arm64e-apple-macos14.0
􀟈  Suite "AST Immutability Audit" started.
􀟈  Suite "ExpressionParser Tests" started.
􀟈  Suite "ParseError Golden File Tests" started.
􀟈  Suite "AST Construction Pattern Audit" started.
􀟈  Suite "Debug Parse Errors" started.
􀟈  Suite TokenStreamTests started.
􀟈  Suite "Incremental Tokenizer Tests" started.
􀟈  Suite "Leading Dot Decimal Tests" started.
􀟈  Suite "Golden File Maintenance" started.
􀟈  Suite "String Escape Utilities Tests" started.
􀟈  Suite "Statement Parser Tests" started.
􀟈  Suite "Unicode Normalization Tests" started.
􀟈  Suite EnhancedNumberTests started.
􀟈  Suite "Enhanced Error Handling Tests" started.
􀟈  Suite "AnyCodable Safety Analysis" started.
􀟈  Suite "Streaming Tokenizer Tests" started.
􀟈  Suite TokenizerTests started.
􀟈  Test example() started.
􀟈  Test "Complex Nested AST Round-Trip Serialization" started.
􀟈  Test "Statement Round-Trip Serialization" started.
􀟈  Suite "ParsingTokenizer Tests" started.
􀟈  Suite TokenizerConsistencyTests started.
􀟈  Test "Value Semantics - Copy Behavior" started.
􀟈  Test testSimpleArrayAccess() started.
􀟈  Test "Binary and Unary Operator Immutability" started.
􀟈  Test "Custom Codable Implementation - Literal Enum" started.
􀟈  Test "DataType Round-Trip Serialization" started.
􀟈  Test testSimpleSubtraction() started.
􀟈  Test testSimpleFunctionCall() started.
􀟈  Test "DataType Recursive Immutability" started.
􀟈  Test "AnyCodable Implementation Constraints" started.
􀟈  Test "Edge Cases and Boundary Conditions Round-Trip" started.
􀟈  Test "BinaryOperator and UnaryOperator Round-Trip Serialization" started.
􀟈  Test testMismatchedParentheses() started.
􀟈  Test "Expression Round-Trip Serialization" started.
􀟈  Test "Expression Deep Immutability" started.
􀟈  Test testMultiplicationDivisionPrecedence() started.
􀟈  Test "Function Declaration Parameter Arrays" started.
􀟈  Test testEqualityOperator() started.
􀟈  Test "Equality Consistency" started.
􀟈  Test "AnyCodable Type Safety - Verify only value types can be stored" started.
􀟈  Test testUnaryPrecedence() started.
􀟈  Test testMixedPostfixOperations() started.
􀟈  Test "Unicode and Internationalization Round-Trip" started.
􀟈  Test "Sendable Equality Consistency" started.
􀟈  Test testBooleanLiterals() started.
􀟈  Test testParenthesesOverridePrecedence() started.
􀟈  Test "Supporting Type Round-Trip Serialization" started.
􀟈  Test testIdentifier() started.
􀟈  Test testLeftAssociativitySubtraction() started.
􀟈  Test testFunctionCallWithExpressions() started.
􀟈  Test testNestedParentheses() started.
􀟈  Test testUnaryMinus() started.
􀟈  Test testSimpleDivision() started.
􀟈  Test "Deep Collection Immutability - Arrays maintain value semantics" started.
􀟈  Test testUnexpectedEndOfInput() started.
􀟈  Test testModulo() started.
􀟈  Test testArithmeticPrecedence() started.
􀟈  Test testUnaryNot() started.
􀟈  Test "Codable Immutability Preservation" started.
􀟈  Test testSimpleMultiplication() started.
􀟈  Test testLogicalPrecedence() started.
􀟈  Test testLogicalAnd() started.
􀟈  Test testStringLiteral() started.
􀟈  Test testRealLiteral() started.
􀟈  Test testSimpleAddition() started.
􀟈  Test testInequalityOperator() started.
􀟈  Test testRealWorldExample1() started.
􀟈  Test testFunctionCallNoArguments() started.
􀟈  Test testMixedPrecedenceExpression() started.
􀟈  Test testCharacterLiteral() started.
􀟈  Test testComplexLogicalExpression() started.
􀟈  Test testUnexpectedToken() started.
􀟈  Test testLogicalOr() started.
􀟈  Test testArrayAccessWithExpression() started.
􀟈  Test testComparisonOperators() started.
􀟈  Test testComplexArithmeticExpression() started.
􀟈  Test testRealWorldExample2() started.
􀟈  Test testInvalidFunctionCall() started.
􀟈  Test testLeftAssociativityAddition() started.
􀟈  Test testChainedArrayAccess() started.
􀟈  Test "Debug Actual Error Messages" started.
􀟈  Test "Immutable Builder Pattern Validation" started.
􀟈  Test "Factory Method Immutability" started.
􀟈  Test testLeftAssociativityMultiplication() started.
􀟈  Test testIncompleteExpression() started.
􀟈  Test "Parser Construction Immutability" started.
􀟈  Test "Unicode and Internationalization Error Scenarios" started.
􀟈  Test testUnaryPlus() started.
􀟈  Test "Large Input Error Handling" started.
􀟈  Test "Real Syntax Error Scenarios" started.
􀟈  Test "Expression Parser Error Formatting" started.
􀟈  Test "Edge Cases Golden File Tests" started.
􀟈  Test "Error Formatting with Context" started.
􀟈  Test "Tokenizer Error Golden File Tests" started.
􀟈  Test "Complex Error Golden File Tests" started.
􀟈  Test "Memory efficiency with large buffer" started.
􀟈  Test "Deeply Nested Error Handling" started.
􀟈  Test "All Error Categories Coverage" started.
􀟈  Test "TokenStream peek functionality" started.
􀟈  Test "Complex tokenization with streaming" started.
􀟈  Test "Semantic Error Golden File Tests" started.
􀟈  Test "Golden File Format Validation" started.
􀟈  Test "Whitespace-only input handling" started.
􀟈  Test "Statement Parser Error Formatting" started.
􀟈  Test "Circular buffer functionality" started.
􀟈  Test "String source reader functionality" started.
􀟈  Test "TokenStream position tracking" started.
􀟈  Test "Syntax Error Golden File Tests" started.
􀟈  Test "Tokenizer EOF termination validation" started.
􀟈  Test "Token type preservation" started.
􀟈  Test "Large insertion efficiency" started.
􀟈  Test "Unicode support in streaming" started.
􀟈  Test "Empty input handling" started.
􀟈  Test "Basic incremental update" started.
􀟈  Test "TokenStream protocol basic functionality" started.
􀟈  Test "Efficiency metrics" started.
􀟈  Test "Incremental validation" started.
􀟈  Test "Performance regression detection" started.
􀟈  Test testDotVsLeadingDotDecimal() started.
􀟈  Test "Error recovery in streaming" started.
􀟈  Test "Position adjustment after insertion" started.
􀟈  Test "Text deletion" started.
􀟈  Test "Boundary detection" started.
􀟈  Test "Complex multi-line edit" started.
􀟈  Test "Comment insertion and removal" started.
􀟈  Test "Tokenizer Integration - Valid Escape Sequences" started.
􀟈  Test "Mixed Escape Sequences" started.
􀟈  Test "Text replacement" started.
􀙟  Test "Regenerate All Golden Files" skipped: "Run manually for maintenance only"
􀟈  Test "Validate Escape Sequences" started.
􀟈  Test "Invalid Basic Escape Sequences" started.
􀟈  Test "Contains Escape Sequences" started.
􀟈  Test "Count Escape Sequences" started.
􀟈  Test "Unicode Escape Sequences" started.
􀟈  Test "Validate Escape Sequences With Details" started.
􀟈  Test "Tokenizer Integration - Unicode Escape Sequences" started.
􀟈  Test "Tokenizer Integration - Invalid Escape Sequences" started.
􀟈  Test "Basic Escape Sequences" started.
􀟈  Test "Edge Cases" started.
􀟈  Test "Invalid Unicode Escape Sequences" started.
􀟈  Test testLeadingDotDecimalNumbers() started.
􀟈  Test "Tokenizer Integration - Invalid Unicode Escape" started.
􀟈  Test "IF-ELIF-ELSE Statement" started.
􀟈  Test "Constant Declaration with String" started.
􀟈  Test "Maximum Nesting Depth Security" started.
􀟈  Test "End-to-End Integration Test" started.
􀟈  Test "Large Input Security" started.
􀟈  Test "Variable Declaration with Real Type" started.
􀟈  Test "Basic Variable Declaration" started.
􀟈  Test "Declaration with Array Access Expression" started.
􀟈  Test "Variable Declaration Missing Identifier" started.
􀟈  Test "Statistics Accuracy - Complex Example" started.
􀟈  Test "Very Long Text Normalization" started.
􀟈  Test "Function Declaration without Return Type" started.
􀟈  Test "Break Statement" started.
􀟈  Test "ForEach Statement" started.
􀟈  Test "Basic IF Statement" started.
􀟈  Test "String with Escaped Quotes" started.
􀟈  Test "Malformed Declarations" started.
􀟈  Test "Constant Declaration Missing Type" started.
􀟈  Test "Variable Declaration Missing Type" started.
􀟈  Test "Expression Statement - Function Call" started.
􀟈  Test "Mixed Full-width and Half-width Text" started.
􀟈  Test "Security - Bidirectional Text Protection" started.
􀟈  Test "Normalization Analysis Enhanced" started.
􀟈  Test "Field Access Chaining" started.
􀟈  Test "Emoji Normalization" started.
􀟈  Test "Function Declaration with Return Type" started.
􀟈  Test testHexadecimalNumbers() started.
􀟈  Test "Programming Keywords with Full-width Characters" started.
􀟈  Test "Variable Declaration with Boolean Type" started.
􀟈  Test "Basic NFC Normalization" started.
􀟈  Test "Full-width to Half-width Conversion" started.
􀟈  Test testNumberFormatEdgeCases() started.
􀟈  Test "Nested Control Structures" started.
􀟈  Test "Katakana vs Hiragana Consistency" started.
􀟈  Test "Extended Character Support - CJK Extension" started.
􀟈  Test "Complex Mixed Text Normalization" started.
􀟈  Test "Return Statement without Expression" started.
􀟈  Test "Constant Declaration with Expression" started.
􀟈  Test "Array Element Assignment" started.
􀟈  Test "Variable Declaration with Complex Expression" started.
􀟈  Test "Mixed Postfix Operations" started.
􀟈  Test "Normalization Forms - NFD Testing" started.
􀟈  Test "Constant Declaration with Integer" started.
􀟈  Test "String Extension Convenience Method" started.
􀟈  Test testOctalNumbers() started.
􀟈  Test testInvalidUnderscorePlacement() started.
􀟈  Test "Security Configuration" started.
􀟈  Test "Extended Character Support - Private Use Area" started.
􀟈  Test "Empty String Normalization" started.
􀟈  Test "Character Classification System" started.
􀟈  Test "Comprehensive Mixed Content Analysis" started.
􀟈  Test "Variable Assignment" started.
􀟈  Test testBinaryWithUnderscores() started.
􀟈  Test testScientificNotationBasic() started.
􀟈  Test testInvalidBinaryNumbers() started.
􀟈  Test "Single Character Normalization" started.
􀟈  Test "Declaration with Nested Function Call Expression" started.
􀟈  Test testInvalidScientificNotation() started.
􀟈  Test "IF-ELSE Statement" started.
􀟈  Test "Instance Statistics Tracking - Mixed Content" started.
􀟈  Test "No Changes Statistics" started.
􀟈  Test "Procedure Declaration" started.
􀟈  Test testOctalWithUnderscores() started.
􀟈  Test testInvalidOctalNumbers() started.
􀟈  Test testHexadecimalWithUnderscores() started.
􀟈  Test "Basic WHILE Statement" started.
􀟈  Test "Instance Statistics Tracking - Japanese Characters" started.
􀟈  Test testInvalidHexadecimalNumbers() started.
􀟈  Test testUnderscoreInRegularNumbers() started.
􀟈  Test testComplexNumberExpressions() started.
􀟈  Test "Range-based FOR Statement without step" started.
􀟈  Test "Variable Declaration Without Initial Value" started.
􀟈  Test testBinaryNumbers() started.
􀟈  Test "Return Statement without Expression - Fixed" started.
􀟈  Test "Statistics Reset Functionality" started.
􀟈  Test "Range-based FOR Statement" started.
􀟈  Test "Security - Homoglyph Detection" started.
􀟈  Test "Constant Declaration Missing Identifier" started.
􀟈  Test testValidUnderscoreSeparation() started.
􀟈  Test testScientificNotationWithUnderscores() started.
􀟈  Test "FE Language Control Flow" started.
􀟈  Test testTokenizerConsistencyWithEnhancedNumbers() started.
􀟈  Test "Constant Declaration Missing Initial Value" started.
􀟈  Test "String with Escape Sequences" started.
􀟈  Test "Return Statement with Expression" started.
􀟈  Test "Normalization Forms - NFKC Testing" started.
􀟈  Test "Variable Declaration with Array Type" started.
􀟈  Test "Long Identifier Security" started.
􀟈  Test "Tokenizer Integration Enhanced" started.
􀟈  Test "Mathematical Symbol Normalization" started.
􀟈  Test "Multiple Declarations" started.
􀟈  Test "FE Language Variable Declaration" started.
􀟈  Test "String Extension Methods Enhanced" started.
􀟈  Test "String Extension with Statistics" started.
􀟈  Test "Normalization Forms - NFKD Testing" started.
􀟈  Test "Error Recovery: Complex Multi-Error Scenario" started.
􀟈  Test "Instance Statistics Tracking - Full-width Characters" started.
􀟈  Test "Basic Constant Declaration" started.
􀟈  Test "Dakuten and Handakuten Normalization" started.
􀟈  Test "Unicode Identifiers" started.
􀟈  Test "Japanese Punctuation Normalization" started.
􀟈  Test "Normalization Statistics" started.
􀟈  Test "TokenizerResult API Functionality" started.
􀟈  Test "Error Recovery: Comment Recovery" started.
􀟈  Test "Multi-Error Collection: Comment and Escape Sequence Issues" started.
􀟈  Test "Multi-Error Collection: Multiple Invalid Characters" started.
􀟈  Test "Error Severity Classification" started.
􀟈  Test "Error Range and Position Accuracy" started.
􀟈  Test "Error Recovery: String Recovery" started.
􀟈  Test "Error Recovery: Character Skipping" started.
􀟈  Test "Multi-Error Collection: String and Number Format Issues" started.
􀟈  Test "Error Messages and Suggestions Quality" started.
􀟈  Test "Backward Compatibility: Legacy Method Throws" started.
􀟈  Test "Backward Compatibility: Error-Free Input" started.
􀟈  Test "ImprovedAnyCodable Equality" started.
􀟈  Test "SafeAnyCodable Encoding and Decoding" started.
􀟈  Test "Type Validation Error Handling" started.
􀟈  Test "ImprovedAnyCodable Encoding and Decoding" started.
􀟈  Test "Tokenizer metrics calculation" started.
􀟈  Test "Buffer tokenization" started.
􀟈  Test "Unicode handling in streaming" started.
􀟈  Test "State preservation and resumption" started.
􀟈  Test "Partial token construction" started.
􀟈  Test "Basic streaming tokenization" started.
􀟈  Test "Buffer manager" started.
􀟈  Test "Integration with Literal Type" started.
􀟈  Test "Original AnyCodable Constraints Verification" started.
􀟈  Test "ImprovedAnyCodable Type Safety" started.
􀟈  Test "Memory Safety - Value Semantics" started.
􀟈  Test "Graceful Error Handling vs Runtime Crashes" started.
􀟈  Test "Character and Other Unsupported Types" started.
􀟈  Test "SafeAnyCodable Error Handling" started.
􀟈  Test "Large file streaming" started.
􀟈  Test "Type Erasure Safety" started.
􀟈  Test "Lexer state transitions" started.
􀟈  Test "JSON Data Validation" started.
􀟈  Test "Chunk processor" started.
􀟈  Test "AnyCodable Immutability Audit" started.
􀟈  Test "Validate Value Type Restrictions" started.
􀟈  Test "Safe AnyCodable Creation" started.
􀟈  Test "Original AnyCodable Implementation Analysis" started.
􀟈  Test "Async sequence tokenization" started.
􀟈  Test "Tokenizer state serialization" started.
􀟈  Test "Comment type enumeration" started.
􀟈  Test "Chunk info validation" started.
􀟈  Test "Empty input handling" started.

=== Testing: invalid_keyword ===
Input: 'invalidkeyword x'
❌ Error: StatementParseError: Unexpected token 'x'
  at line 1, column 16
  Expected: eof
  Source context:
  1: invalidkeyword x
                    ^
Raw error: unexpectedToken(Token(type: .identifier, lexeme: "x", position: 1:16), expected: FeLangCore.TokenType.eof)

=== Testing: missing_then_keyword ===
Input: 'if x > 5
writeLine(x)'
❌ Error: StatementParseError: Unexpected token 'writeLine'
  at line 2, column 1
  Expected: eof
  Source context:
  2: writeLine(x)
     ^
Raw error: unexpectedToken(Token(type: .identifier, lexeme: "writeLine", position: 2:1), expected: FeLangCore.TokenType.eof)
􀟈  Test testIntegerLiterals() started.
􀟈  Test testStringLiterals() started.
􀟈  Test testKeywordBoundariesWithWhitespace() started.
􀟈  Test testKeywordBoundariesWithJapaneseKeywords() started.
􀟈  Test testUnterminatedString() started.
􀟈  Test testUnexpectedCharacter() started.
􀟈  Test testUnsupportedCharacterHandling() started.
􀟈  Test testUnterminatedComment() started.
􀟈  Test testIdentifiers() started.
􀟈  Test testKeywordBoundariesAtEndOfInput() started.
􀟈  Test testRealLiterals() started.
􀟈  Test testDotVsDecimal() started.
􀟈  Test testComplexExpression() started.
􀟈  Test testMultiLineComment() started.
􀟈  Test testWhitespaceOnly() started.
􀟈  Test testArrayAccess() started.
􀟈  Test testKeywordBoundariesWithUnicodeCharacters() started.
􀟈  Test testDelimiters() started.
􀟈  Test testOperators() started.
􀟈  Test testKeywords() started.
􁁛  Test example() passed after 0.024 seconds.
􀟈  Test testSingleLineComment() started.
􀟈  Test testPositionTracking() started.
􀟈  Test testRecordAccess() started.
􀟈  Test testKeywordBoundariesWithEnglishKeywords() started.
􀟈  Test testBasicTokens() started.
􀟈  Test testCharacterLiterals() started.
􀟈  Test testExtendedCJKCharacters() started.
􀟈  Test testEmptyInput() started.
􀟈  Test testMinusVsNegativeNumber() started.
􀟈  Test testSharedUtilitiesKeywordConsistency() started.
􀟈  Test testErrorHandlingConsistency() started.
􀟈  Test testSharedUtilitiesStringLiteralTypes() started.
􀟈  Test testTokenizerConsistency() started.
􀟈  Test testSharedUtilitiesCharacterClassification() started.
􀟈  Test testSharedUtilitiesNumberTokenTypes() started.
􀟈  Test testIdentifiers() started.
􀟈  Test testIntegerLiterals() started.
􀟈  Test testEmptyInput() started.
􀟈  Test testUnicodeOperators() started.
􀟈  Test testPositionTracking() started.
􀟈  Test testStringLiterals() started.
􀟈  Test testDelimiters() started.
􀟈  Test testEnglishKeywords() started.
􀟈  Test testJapaneseKeywords() started.
􀟈  Test testComments() started.
􀟈  Test testUnexpectedCharacter() started.
􀟈  Test testDotVsDecimal() started.
􀟈  Test testJapaneseIdentifiers() started.
􀟈  Test testWhitespaceFiltering() started.
􀟈  Test testUnterminatedString() started.
􀟈  Test testUnterminatedComment() started.
􀟈  Test testRealLiterals() started.
􀟈  Test testCharacterLiterals() started.
􀟈  Test testComplexExpression() started.
􁁛  Test "Binary and Unary Operator Immutability" passed after 0.030 seconds.
􀟈  Test testBasicOperators() started.
􁁛  Test testSimpleSubtraction() passed after 0.030 seconds.
􁁛  Test "Value Semantics - Copy Behavior" passed after 0.030 seconds.
􁁛  Test testSimpleArrayAccess() passed after 0.030 seconds.
􁁛  Test testSimpleFunctionCall() passed after 0.030 seconds.
􁁛  Test "DataType Recursive Immutability" passed after 0.030 seconds.
􁁛  Test "Custom Codable Implementation - Literal Enum" passed after 0.031 seconds.
􁁛  Test "BinaryOperator and UnaryOperator Round-Trip Serialization" passed after 0.032 seconds.
􁁛  Test "Expression Deep Immutability" passed after 0.032 seconds.
􁁛  Test testMultiplicationDivisionPrecedence() passed after 0.032 seconds.
􁁛  Test "Function Declaration Parameter Arrays" passed after 0.032 seconds.
􁁛  Test testEqualityOperator() passed after 0.032 seconds.
􁁛  Test "Equality Consistency" passed after 0.032 seconds.
􁁛  Test "AnyCodable Implementation Constraints" passed after 0.032 seconds.
􁁛  Test testUnaryPrecedence() passed after 0.033 seconds.
􁁛  Test testMixedPostfixOperations() passed after 0.033 seconds.
􁁛  Test "DataType Round-Trip Serialization" passed after 0.033 seconds.
􁁛  Test "Sendable Equality Consistency" passed after 0.033 seconds.
􁁛  Test testBooleanLiterals() passed after 0.033 seconds.
􁁛  Test testParenthesesOverridePrecedence() passed after 0.033 seconds.
􁁛  Test "Edge Cases and Boundary Conditions Round-Trip" passed after 0.033 seconds.
􁁛  Test testLeftAssociativitySubtraction() passed after 0.033 seconds.
􁁛  Test testIdentifier() passed after 0.033 seconds.
􁁛  Test testMismatchedParentheses() passed after 0.033 seconds.
􁁛  Test "AnyCodable Type Safety - Verify only value types can be stored" passed after 0.033 seconds.
􁁛  Test testFunctionCallWithExpressions() passed after 0.033 seconds.
􁁛  Test testSimpleDivision() passed after 0.033 seconds.
􁁛  Test testUnaryMinus() passed after 0.033 seconds.
􁁛  Test "Deep Collection Immutability - Arrays maintain value semantics" passed after 0.033 seconds.
􁁛  Test testModulo() passed after 0.033 seconds.
􁁛  Test testArithmeticPrecedence() passed after 0.033 seconds.
􁁛  Test testNestedParentheses() passed after 0.033 seconds.
􁁛  Test testUnaryNot() passed after 0.033 seconds.
􁁛  Test testUnexpectedEndOfInput() passed after 0.033 seconds.
􁁛  Test "Unicode and Internationalization Round-Trip" passed after 0.033 seconds.
􁁛  Test "Codable Immutability Preservation" passed after 0.033 seconds.
􁁛  Test testStringLiteral() passed after 0.033 seconds.
􁁛  Test testLogicalAnd() passed after 0.033 seconds.
􁁛  Test testSimpleMultiplication() passed after 0.033 seconds.
􁁛  Test testRealLiteral() passed after 0.033 seconds.
􁁛  Test "Supporting Type Round-Trip Serialization" passed after 0.034 seconds.
􁁛  Test testSimpleAddition() passed after 0.033 seconds.
􁁛  Test testInequalityOperator() passed after 0.033 seconds.
􁁛  Test testLogicalPrecedence() passed after 0.033 seconds.
􁁛  Test testFunctionCallNoArguments() passed after 0.033 seconds.
􁁛  Test testCharacterLiteral() passed after 0.033 seconds.
􁁛  Test testLogicalOr() passed after 0.033 seconds.
􁁛  Test testMixedPrecedenceExpression() passed after 0.033 seconds.
􁁛  Test testArrayAccessWithExpression() passed after 0.033 seconds.
􁁛  Test testUnexpectedToken() passed after 0.033 seconds.
􁁛  Test testRealWorldExample1() passed after 0.033 seconds.
􁁛  Test testComplexArithmeticExpression() passed after 0.033 seconds.
􁁛  Test testLeftAssociativityAddition() passed after 0.033 seconds.
􁁛  Test testComplexLogicalExpression() passed after 0.034 seconds.
􁁛  Test testComparisonOperators() passed after 0.034 seconds.
􁁛  Test "Immutable Builder Pattern Validation" passed after 0.034 seconds.
􁁛  Test testRealWorldExample2() passed after 0.034 seconds.
􁁛  Test "Factory Method Immutability" passed after 0.034 seconds.
􁁛  Test testInvalidFunctionCall() passed after 0.034 seconds.
􁁛  Test testLeftAssociativityMultiplication() passed after 0.034 seconds.
􁁛  Test testChainedArrayAccess() passed after 0.034 seconds.
􁁛  Test "Parser Construction Immutability" passed after 0.034 seconds.
􁁛  Test testIncompleteExpression() passed after 0.034 seconds.
􁁛  Test testUnaryPlus() passed after 0.034 seconds.
􁁛  Test "Debug Actual Error Messages" passed after 0.034 seconds.
􁁛  Test "Complex Nested AST Round-Trip Serialization" passed after 0.035 seconds.
􁁛  Test "Statement Round-Trip Serialization" passed after 0.035 seconds.
􁁛  Test "Expression Round-Trip Serialization" passed after 0.034 seconds.
􁁛  Test "Expression Parser Error Formatting" passed after 0.034 seconds.
􁁛  Test "Edge Cases Golden File Tests" passed after 0.034 seconds.
􁁛  Test "Unicode and Internationalization Error Scenarios" passed after 0.034 seconds.
􁁛  Test "Error Formatting with Context" passed after 0.034 seconds.
􁁛  Test "TokenStream peek functionality" passed after 0.034 seconds.
􁁛  Test "Complex Error Golden File Tests" passed after 0.034 seconds.
􁁛  Test "Complex tokenization with streaming" passed after 0.034 seconds.
􁁛  Test "Tokenizer Error Golden File Tests" passed after 0.034 seconds.
􁁛  Test "Whitespace-only input handling" passed after 0.034 seconds.
􁁛  Test "Real Syntax Error Scenarios" passed after 0.034 seconds.
􁁛  Test "Circular buffer functionality" passed after 0.034 seconds.
􁁛  Test "String source reader functionality" passed after 0.034 seconds.
􁁛  Test "Golden File Format Validation" passed after 0.034 seconds.
􁁛  Test "Statement Parser Error Formatting" passed after 0.034 seconds.
􁁛  Test "TokenStream position tracking" passed after 0.034 seconds.
􁁛  Test "Semantic Error Golden File Tests" passed after 0.034 seconds.
􁁛  Test "Token type preservation" passed after 0.034 seconds.
􁁛  Test "Unicode support in streaming" passed after 0.034 seconds.
􁁛  Test "Syntax Error Golden File Tests" passed after 0.034 seconds.
􁁛  Test "Empty input handling" passed after 0.034 seconds.
􁁛  Test "Basic incremental update" passed after 0.034 seconds.
􁁛  Test "TokenStream protocol basic functionality" passed after 0.034 seconds.
􁁛  Test "Tokenizer EOF termination validation" passed after 0.034 seconds.
􁁛  Test "All Error Categories Coverage" passed after 0.034 seconds.
􁁛  Test testDotVsLeadingDotDecimal() passed after 0.034 seconds.
􁁛  Test "Incremental validation" passed after 0.034 seconds.
􁁛  Test "Error recovery in streaming" passed after 0.034 seconds.
􁁛  Test "Position adjustment after insertion" passed after 0.034 seconds.
􁁛  Test "Boundary detection" passed after 0.034 seconds.
􁁛  Test "Comment insertion and removal" passed after 0.034 seconds.
􁁛  Test "Text deletion" passed after 0.034 seconds.
􁁛  Test "Tokenizer Integration - Valid Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Mixed Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Complex multi-line edit" passed after 0.034 seconds.
􁁛  Suite "Golden File Maintenance" passed after 0.036 seconds.
􁁛  Test "Text replacement" passed after 0.034 seconds.
􁁛  Test "Validate Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Contains Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Count Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Unicode Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Validate Escape Sequences With Details" passed after 0.034 seconds.
􁁛  Test "Invalid Basic Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Tokenizer Integration - Unicode Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Basic Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Edge Cases" passed after 0.034 seconds.
􁁛  Test "Tokenizer Integration - Invalid Escape Sequences" passed after 0.034 seconds.
􁁛  Test testLeadingDotDecimalNumbers() passed after 0.034 seconds.
􁁛  Test "Tokenizer Integration - Invalid Unicode Escape" passed after 0.034 seconds.
􁁛  Test "Invalid Unicode Escape Sequences" passed after 0.034 seconds.
􁁛  Test "Constant Declaration with String" passed after 0.034 seconds.
􁁛  Test "IF-ELIF-ELSE Statement" passed after 0.034 seconds.
􁁛  Test "Maximum Nesting Depth Security" passed after 0.034 seconds.
􁁛  Test "Large Input Security" passed after 0.034 seconds.
􁁛  Test "Variable Declaration with Real Type" passed after 0.034 seconds.
􁁛  Test "Declaration with Array Access Expression" passed after 0.034 seconds.
􁁛  Test "Basic Variable Declaration" passed after 0.034 seconds.
􁁛  Test "Variable Declaration Missing Identifier" passed after 0.034 seconds.
􁁛  Test "Large insertion efficiency" passed after 0.035 seconds.
􁁛  Test "End-to-End Integration Test" passed after 0.034 seconds.
􁁛  Test "Function Declaration without Return Type" passed after 0.034 seconds.
􁁛  Test "Break Statement" passed after 0.035 seconds.
􁁛  Test "ForEach Statement" passed after 0.034 seconds.
􁁛  Test "Basic IF Statement" passed after 0.034 seconds.
􁁛  Test "String with Escaped Quotes" passed after 0.034 seconds.
􁁛  Test "Malformed Declarations" passed after 0.034 seconds.
􁁛  Test "Constant Declaration Missing Type" passed after 0.034 seconds.
􁁛  Test "Variable Declaration Missing Type" passed after 0.034 seconds.
􁁛  Test "Expression Statement - Function Call" passed after 0.034 seconds.
􁁛  Test "Mixed Full-width and Half-width Text" passed after 0.034 seconds.
􁁛  Test "Security - Bidirectional Text Protection" passed after 0.034 seconds.
􁁛  Test "Normalization Analysis Enhanced" passed after 0.035 seconds.
􁁛  Test "Field Access Chaining" passed after 0.035 seconds.
􁁛  Test "Emoji Normalization" passed after 0.035 seconds.
􁁛  Test "Function Declaration with Return Type" passed after 0.035 seconds.
􁁛  Test "Statistics Accuracy - Complex Example" passed after 0.035 seconds.
􁁛  Test "Programming Keywords with Full-width Characters" passed after 0.035 seconds.
􁁛  Test testHexadecimalNumbers() passed after 0.035 seconds.
􁁛  Test "Variable Declaration with Boolean Type" passed after 0.035 seconds.
􁁛  Test "Full-width to Half-width Conversion" passed after 0.035 seconds.
􁁛  Test "Basic NFC Normalization" passed after 0.035 seconds.
􁁛  Test "Nested Control Structures" passed after 0.035 seconds.
􁁛  Test "Katakana vs Hiragana Consistency" passed after 0.035 seconds.
􁁛  Test "Extended Character Support - CJK Extension" passed after 0.035 seconds.
􁁛  Test testNumberFormatEdgeCases() passed after 0.035 seconds.
􁁛  Test "Deeply Nested Error Handling" passed after 0.035 seconds.
􁁛  Test "Return Statement without Expression" passed after 0.035 seconds.
􁁛  Test "Array Element Assignment" passed after 0.035 seconds.
􁁛  Test "Complex Mixed Text Normalization" passed after 0.035 seconds.
􁁛  Test "Constant Declaration with Expression" passed after 0.035 seconds.
􁁛  Test "Normalization Forms - NFD Testing" passed after 0.035 seconds.
􁁛  Test "Mixed Postfix Operations" passed after 0.035 seconds.
􁁛  Test "Constant Declaration with Integer" passed after 0.035 seconds.
􁁛  Test "Variable Declaration with Complex Expression" passed after 0.035 seconds.
􁁛  Test "String Extension Convenience Method" passed after 0.035 seconds.
􁁛  Test "Security Configuration" passed after 0.035 seconds.
􁁛  Test testOctalNumbers() passed after 0.035 seconds.
􁁛  Test "Extended Character Support - Private Use Area" passed after 0.035 seconds.
􁁛  Test "Character Classification System" passed after 0.035 seconds.
􁁛  Test "Comprehensive Mixed Content Analysis" passed after 0.036 seconds.
􁁛  Test "Variable Assignment" passed after 0.035 seconds.
􁁛  Test testBinaryWithUnderscores() passed after 0.036 seconds.
􁁛  Test testInvalidUnderscorePlacement() passed after 0.036 seconds.
􁁛  Test "Empty String Normalization" passed after 0.036 seconds.
􁁛  Test testInvalidBinaryNumbers() passed after 0.036 seconds.
􁁛  Test testScientificNotationBasic() passed after 0.037 seconds.
􁁛  Test "Declaration with Nested Function Call Expression" passed after 0.036 seconds.
􁁛  Test "IF-ELSE Statement" passed after 0.036 seconds.
􁁛  Test "Instance Statistics Tracking - Mixed Content" passed after 0.036 seconds.
􁁛  Test testInvalidScientificNotation() passed after 0.037 seconds.
􁁛  Test "No Changes Statistics" passed after 0.037 seconds.
􁁛  Test "Procedure Declaration" passed after 0.037 seconds.
􁁛  Test testOctalWithUnderscores() passed after 0.037 seconds.
􁁛  Test "Single Character Normalization" passed after 0.037 seconds.
􁁛  Test "Basic WHILE Statement" passed after 0.037 seconds.
􁁛  Test testInvalidOctalNumbers() passed after 0.037 seconds.
􁁛  Test "Instance Statistics Tracking - Japanese Characters" passed after 0.037 seconds.
􁁛  Test testInvalidHexadecimalNumbers() passed after 0.037 seconds.
􁁛  Test testUnderscoreInRegularNumbers() passed after 0.037 seconds.
􁁛  Test testHexadecimalWithUnderscores() passed after 0.037 seconds.
􁁛  Test "Range-based FOR Statement without step" passed after 0.037 seconds.
􁁛  Test testBinaryNumbers() passed after 0.037 seconds.
􁁛  Test "Return Statement without Expression - Fixed" passed after 0.037 seconds.
􁁛  Test "Statistics Reset Functionality" passed after 0.037 seconds.
􁁛  Test "Variable Declaration Without Initial Value" passed after 0.037 seconds.
􁁛  Test "Constant Declaration Missing Identifier" passed after 0.037 seconds.
􁁛  Test "Range-based FOR Statement" passed after 0.037 seconds.
􁁛  Test testValidUnderscoreSeparation() passed after 0.037 seconds.
􁁛  Test testScientificNotationWithUnderscores() passed after 0.037 seconds.
􁁛  Test "Security - Homoglyph Detection" passed after 0.037 seconds.
􁁛  Test "FE Language Control Flow" passed after 0.037 seconds.
􁁛  Test "Constant Declaration Missing Initial Value" passed after 0.037 seconds.
􁁛  Test "String with Escape Sequences" passed after 0.037 seconds.
􁁛  Test testTokenizerConsistencyWithEnhancedNumbers() passed after 0.037 seconds.
􁁛  Test "Return Statement with Expression" passed after 0.037 seconds.
􁁛  Test "Normalization Forms - NFKC Testing" passed after 0.037 seconds.
􁁛  Test "Variable Declaration with Array Type" passed after 0.037 seconds.
􁁛  Test "Long Identifier Security" passed after 0.037 seconds.
􁁛  Test "Mathematical Symbol Normalization" passed after 0.037 seconds.
􁁛  Test "Multiple Declarations" passed after 0.037 seconds.
􁁛  Test "FE Language Variable Declaration" passed after 0.037 seconds.
􁁛  Test "String Extension Methods Enhanced" passed after 0.037 seconds.
􁁛  Test "String Extension with Statistics" passed after 0.037 seconds.
􁁛  Test "Normalization Forms - NFKD Testing" passed after 0.037 seconds.
􁁛  Test "Tokenizer Integration Enhanced" passed after 0.037 seconds.
􁁛  Test testComplexNumberExpressions() passed after 0.038 seconds.
􁁛  Test "Basic Constant Declaration" passed after 0.037 seconds.
􁁛  Test "Error Recovery: Complex Multi-Error Scenario" passed after 0.037 seconds.
􁁛  Test "Unicode Identifiers" passed after 0.037 seconds.
􁁛  Test "Japanese Punctuation Normalization" passed after 0.037 seconds.
􁁛  Test "Normalization Statistics" passed after 0.037 seconds.
􁁛  Test "TokenizerResult API Functionality" passed after 0.037 seconds.
􁁛  Test "Dakuten and Handakuten Normalization" passed after 0.037 seconds.
􁁛  Test "Error Recovery: Comment Recovery" passed after 0.037 seconds.
􁁛  Test "Instance Statistics Tracking - Full-width Characters" passed after 0.037 seconds.
􁁛  Test "Multi-Error Collection: Comment and Escape Sequence Issues" passed after 0.037 seconds.
􁁛  Test "Error Severity Classification" passed after 0.040 seconds.
􁁛  Test "Multi-Error Collection: Multiple Invalid Characters" passed after 0.041 seconds.
􁁛  Test "Error Range and Position Accuracy" passed after 0.041 seconds.
􁁛  Test "Error Recovery: String Recovery" passed after 0.042 seconds.
􁁛  Test "Error Recovery: Character Skipping" passed after 0.042 seconds.
􁁛  Test "Multi-Error Collection: String and Number Format Issues" passed after 0.043 seconds.
􁁛  Test "Error Messages and Suggestions Quality" passed after 0.043 seconds.
􁁛  Test "Backward Compatibility: Legacy Method Throws" passed after 0.043 seconds.
􁁛  Test "ImprovedAnyCodable Equality" passed after 0.042 seconds.
􁁛  Test "Backward Compatibility: Error-Free Input" passed after 0.043 seconds.
􁁛  Test "Type Validation Error Handling" passed after 0.042 seconds.
􁁛  Test "SafeAnyCodable Encoding and Decoding" passed after 0.043 seconds.
􁁛  Test "ImprovedAnyCodable Encoding and Decoding" passed after 0.042 seconds.
􁁛  Test "Tokenizer metrics calculation" passed after 0.042 seconds.
􁁛  Test "Partial token construction" passed after 0.043 seconds.
􁁛  Test "Buffer manager" passed after 0.043 seconds.
􁁛  Test "Original AnyCodable Constraints Verification" passed after 0.043 seconds.
􁁛  Test "Memory Safety - Value Semantics" passed after 0.042 seconds.
􁁛  Test "ImprovedAnyCodable Type Safety" passed after 0.043 seconds.
􁁛  Test "Character and Other Unsupported Types" passed after 0.042 seconds.
􁁛  Test "Integration with Literal Type" passed after 0.043 seconds.
􁁛  Test "SafeAnyCodable Error Handling" passed after 0.042 seconds.
􁁛  Test "Type Erasure Safety" passed after 0.042 seconds.
􁁛  Test "Lexer state transitions" passed after 0.042 seconds.
􁁛  Test "Graceful Error Handling vs Runtime Crashes" passed after 0.042 seconds.
􁁛  Test "Chunk processor" passed after 0.042 seconds.
􁁛  Test "AnyCodable Immutability Audit" passed after 0.042 seconds.
􁁛  Test "Validate Value Type Restrictions" passed after 0.042 seconds.
􁁛  Test "Safe AnyCodable Creation" passed after 0.042 seconds.
􁁛  Test "Original AnyCodable Implementation Analysis" passed after 0.042 seconds.
􁁛  Test "Comment type enumeration" passed after 0.042 seconds.
􁁛  Test "Chunk info validation" passed after 0.042 seconds.
􁁛  Test "Tokenizer state serialization" passed after 0.042 seconds.
􁁛  Test testIntegerLiterals() passed after 0.027 seconds.
􁁛  Test testStringLiterals() passed after 0.027 seconds.
􁁛  Test testKeywordBoundariesWithWhitespace() passed after 0.026 seconds.
􁁛  Test testKeywordBoundariesWithJapaneseKeywords() passed after 0.026 seconds.
􁁛  Test testUnterminatedString() passed after 0.026 seconds.
􁁛  Test testUnexpectedCharacter() passed after 0.025 seconds.
􁁛  Test testUnsupportedCharacterHandling() passed after 0.025 seconds.
􁁛  Test testIdentifiers() passed after 0.025 seconds.
􁁛  Test testUnterminatedComment() passed after 0.025 seconds.
􁁛  Test testKeywordBoundariesAtEndOfInput() passed after 0.024 seconds.
􁁛  Test "JSON Data Validation" passed after 0.043 seconds.
􁁛  Test testDotVsDecimal() passed after 0.024 seconds.
􁁛  Test testRealLiterals() passed after 0.024 seconds.
􁁛  Test testComplexExpression() passed after 0.024 seconds.
􁁛  Test testArrayAccess() passed after 0.024 seconds.
􁁛  Test testWhitespaceOnly() passed after 0.024 seconds.
􁁛  Test testMultiLineComment() passed after 0.024 seconds.
􁁛  Test testKeywordBoundariesWithUnicodeCharacters() passed after 0.024 seconds.
􁁛  Test testDelimiters() passed after 0.023 seconds.
􁁛  Test testOperators() passed after 0.023 seconds.
􁁛  Test testKeywords() passed after 0.023 seconds.
􁁛  Test testPositionTracking() passed after 0.023 seconds.
􁁛  Test testRecordAccess() passed after 0.023 seconds.
􁁛  Test testSingleLineComment() passed after 0.023 seconds.
􁁛  Test testBasicTokens() passed after 0.023 seconds.
􁁛  Test testCharacterLiterals() passed after 0.023 seconds.
􁁛  Test testExtendedCJKCharacters() passed after 0.022 seconds.
􁁛  Test testEmptyInput() passed after 0.022 seconds.
􁁛  Test testKeywordBoundariesWithEnglishKeywords() passed after 0.023 seconds.
􁁛  Test testMinusVsNegativeNumber() passed after 0.022 seconds.
􁁛  Test testErrorHandlingConsistency() passed after 0.018 seconds.
􁁛  Test testSharedUtilitiesStringLiteralTypes() passed after 0.018 seconds.
􁁛  Test testSharedUtilitiesKeywordConsistency() passed after 0.019 seconds.
􁁛  Test testTokenizerConsistency() passed after 0.018 seconds.
􁁛  Test testSharedUtilitiesCharacterClassification() passed after 0.019 seconds.
􁁛  Test testIdentifiers() passed after 0.018 seconds.
􁁛  Test testEmptyInput() passed after 0.018 seconds.
􁁛  Test testIntegerLiterals() passed after 0.018 seconds.
􁁛  Test testUnicodeOperators() passed after 0.018 seconds.
􁁛  Test testStringLiterals() passed after 0.018 seconds.
􁁛  Test testPositionTracking() passed after 0.018 seconds.
􁁛  Test testSharedUtilitiesNumberTokenTypes() passed after 0.019 seconds.
􁁛  Test testDelimiters() passed after 0.018 seconds.
􁁛  Test testJapaneseKeywords() passed after 0.018 seconds.
􁁛  Test testEnglishKeywords() passed after 0.018 seconds.
􁁛  Test testComments() passed after 0.018 seconds.
􁁛  Test testUnexpectedCharacter() passed after 0.018 seconds.
􁁛  Test testDotVsDecimal() passed after 0.018 seconds.
􁁛  Test testWhitespaceFiltering() passed after 0.018 seconds.
􁁛  Test testUnterminatedComment() passed after 0.018 seconds.
􁁛  Test testUnterminatedString() passed after 0.018 seconds.
􁁛  Test testJapaneseIdentifiers() passed after 0.018 seconds.
􁁛  Test testRealLiterals() passed after 0.018 seconds.
􁁛  Test testCharacterLiterals() passed after 0.018 seconds.
􁁛  Suite "AST Immutability Audit" passed after 0.048 seconds.
􁁛  Test testBasicOperators() passed after 0.018 seconds.
􁁛  Suite "ExpressionParser Tests" passed after 0.048 seconds.
􁁛  Test testComplexExpression() passed after 0.018 seconds.
􁁛  Suite "AST Construction Pattern Audit" passed after 0.049 seconds.
􁁛  Suite "Debug Parse Errors" passed after 0.049 seconds.
􁁛  Suite "Leading Dot Decimal Tests" passed after 0.049 seconds.
􁁛  Suite "String Escape Utilities Tests" passed after 0.049 seconds.
􁁛  Suite "Statement Parser Tests" passed after 0.049 seconds.
􁁛  Suite EnhancedNumberTests passed after 0.049 seconds.
􁁛  Suite "Enhanced Error Handling Tests" passed after 0.049 seconds.
􁁛  Suite "AnyCodable Safety Analysis" passed after 0.049 seconds.
􁁛  Test "State preservation and resumption" passed after 0.046 seconds.
􁁛  Test "Unicode handling in streaming" passed after 0.046 seconds.
􁁛  Test "Basic streaming tokenization" passed after 0.046 seconds.
􁁛  Test "Empty input handling" passed after 0.045 seconds.
􁁛  Test "Async sequence tokenization" passed after 0.045 seconds.
􁁛  Suite TokenizerConsistencyTests passed after 0.049 seconds.
􁁛  Suite TokenizerTests passed after 0.049 seconds.
􁁛  Suite "ParsingTokenizer Tests" passed after 0.049 seconds.
􁁛  Test "Buffer tokenization" passed after 0.046 seconds.
􁁛  Test "Memory efficiency with large buffer" passed after 0.061 seconds.
􁁛  Suite TokenStreamTests passed after 0.063 seconds.
􁁛  Test "Efficiency metrics" passed after 0.088 seconds.
􁁛  Test "Very Long Text Normalization" passed after 0.121 seconds.
􁁛  Suite "Unicode Normalization Tests" passed after 0.122 seconds.
Efficiency ratio: 19.287423872603615 (lower is better)
􁁛  Test "Performance regression detection" passed after 0.234 seconds.
􁁛  Suite "Incremental Tokenizer Tests" passed after 0.236 seconds.
􁁛  Test "Large Input Error Handling" passed after 0.414 seconds.
􁁛  Suite "ParseError Golden File Tests" passed after 0.415 seconds.
􁁛  Test "Large file streaming" passed after 0.663 seconds.
􁁛  Suite "Streaming Tokenizer Tests" passed after 0.667 seconds.
􁁛  Test run with 325 tests passed after 0.667 seconds.\n```\n

Please fix these issues and ensure:
1. SwiftLint validation passes (`swiftlint lint`)
2. Code builds successfully (`swift build`)
3. All tests pass (`swift test`)
4. Follow the established architecture patterns

After fixing the issues, I'll run validation again automatically.

---

*This error context was automatically added by claude.sh after validation failure.*
